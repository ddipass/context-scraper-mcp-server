# Context Scraper MCP Server V4 测试指南

## 🎯 测试目标
验证V4的核心功能：智能意图识别、自动策略选择、Claude 3.7分析、深度爬取能力

## 📋 测试计划（按顺序执行）

### 第一阶段：基础功能验证 ⏱️ 2-3分钟

#### 测试1：配置系统检查
```
show_current_config()
```
**期望结果**：
- 显示V4配置状态
- 确认Claude 3.7配置正确
- 验证Bedrock Gateway地址

#### 测试2：Claude连接验证
```
test_claude_connection()
```
**期望结果**：
- 显示"连接测试成功"
- 确认API正常工作
- 验证V4就绪状态

---

### 第二阶段：智能识别能力展示 ⏱️ 5-10分钟

#### 测试3：快速研究模式
```
smart_research_assistant("快速了解Crawl4AI的主要功能", "https://docs.crawl4ai.com")
```
**期望结果**：
- 自动识别为"quick"策略
- 3-5分钟内完成
- 生成简洁的功能概述
- Claude提供结构化分析

#### 测试4：标准商业分析
```
smart_research_assistant("分析达索系统的核心业务和技术优势", "https://www.3ds.com")
```
**期望结果**：
- 自动识别为"standard"策略
- 5-10分钟完成
- Claude生成专业商业分析报告
- 包含业务模式、技术优势、市场定位等

---

### 第三阶段：高级功能展示 ⏱️ 10-20分钟

#### 测试5：竞争对比分析
```
smart_research_assistant("对比OpenAI和Anthropic的AI产品策略差异", "https://openai.com,https://anthropic.com")
```
**期望结果**：
- 自动识别为"competitive"策略
- 并发爬取多个网站
- Claude生成详细对比分析
- 包含优劣势对比、市场定位差异

#### 测试6：深度技术研究
```
smart_research_assistant("深入分析特斯拉的自动驾驶技术发展现状", "https://tesla.com")
```
**期望结果**：
- 自动识别为"deep"策略
- 启用深度爬取（2-3层页面）
- 发现更多相关技术页面
- Claude生成深度技术分析报告

---

### 第四阶段：配置管理展示 ⏱️ 1-2分钟

#### 测试7：动态配置更新
```
update_claude_config(model="claude-3.5")
show_current_config()
```
**期望结果**：
- 成功更新配置
- 显示新的模型配置
- 验证动态配置能力

#### 测试8：配置恢复
```
update_claude_config(model="us.anthropic.claude-3-7-sonnet-20250219-v1:0")
show_current_config()
```
**期望结果**：
- 恢复到Claude 3.7配置
- 确认配置持久化

---

## 🔍 测试观察要点

### V4核心创新验证
- [ ] **智能意图识别**：自动识别quick/standard/competitive/deep策略
- [ ] **一键研究**：一个工具完成完整研究流程
- [ ] **Claude集成**：专业级AI分析报告
- [ ] **深度爬取**：自动发现相关页面
- [ ] **实时反馈**：显示执行进度和阶段

### 与V3对比优势
- [ ] **简化使用**：V3需要选择多个工具，V4只需一个
- [ ] **智能化**：V4自动选择策略，V3需要手动判断
- [ ] **分析能力**：V4有Claude深度分析，V3只有基础整理
- [ ] **配置管理**：V4支持动态配置，V3硬编码

### 性能表现
- [ ] **快速模式**：3-5分钟完成
- [ ] **标准模式**：5-10分钟完成
- [ ] **竞争分析**：10-15分钟完成
- [ ] **深度研究**：15-25分钟完成

---

## 🚨 故障排除

### 如果Claude连接失败
1. 检查网络连接
2. 确认Bedrock Gateway运行状态
3. 验证API密钥有效性

### 如果爬取失败
1. 检查目标网站URL格式
2. 尝试使用V3工具作为备选
3. 检查网站反爬虫限制

### 如果分析质量不佳
1. 确认使用Claude 3.7模型
2. 检查输入内容质量
3. 尝试调整研究问题描述

---

## 📊 测试成功标准

### 基础功能 ✅
- 配置系统正常显示
- Claude连接测试成功

### 智能能力 ✅
- 意图识别准确（4种策略）
- 策略执行符合预期
- Claude分析专业有价值

### 高级功能 ✅
- 多网站并发处理成功
- 深度爬取发现相关页面
- 分析报告结构化完整

### 配置管理 ✅
- 动态更新配置成功
- 配置持久化正常

---

## 🎉 测试完成后

### 验证V4价值
1. **效率提升**：一个工具替代多个V3工具
2. **质量提升**：Claude专业分析 vs 基础整理
3. **智能化**：自动策略选择 vs 手动判断
4. **易用性**：自然语言描述 vs 技术参数

### 实际应用场景
- **商业研究**：市场分析、竞品调研
- **技术研究**：深度技术分析、趋势研究
- **快速了解**：新公司、新产品快速调研
- **学术研究**：多源信息整合分析

---

**测试版本**：V4 (2025-01-07)  
**预计总测试时间**：30-45分钟  
**建议测试环境**：Q CLI with MCP  
**前置条件**：确保网络连接正常
